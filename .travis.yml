language: python
python:
  - "3.6"
  - "3.7"
  - "3.8"
  - "3.9"
services:
  - docker
before_install:
  - docker pull redislabs/redisgears
install:
  - pip install -r src/requirements-test.txt
script:
  - python3 -m isort ./**/*.py --check-only
  - python3 -m flake8 ./src/
  - python3 -m black ./src/ --check
  - python3 -m mypy ./src/
  - python3 -m pytest --cov=redgrease --cov-report=xml
after_success:
  - codecov

